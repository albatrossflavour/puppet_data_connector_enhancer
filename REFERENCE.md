# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`puppet_data_connector_enhancer`](#puppet_data_connector_enhancer): Manages the Puppet Data Connector Enhancer

## Classes

### <a name="puppet_data_connector_enhancer"></a>`puppet_data_connector_enhancer`

This class manages the installation and configuration of a Ruby script that
enhances the puppet_data_connector module by collecting additional Puppet
infrastructure metrics and pushing them to the data connector dropzone.

The module discovers the dropzone path from the existing puppet_data_connector
configuration to avoid configuration duplication.

#### Examples

##### Basic usage with default parameters

```puppet
include puppet_data_connector_enhancer
```

##### Custom timeouts and debugging

```puppet
class { 'puppet_data_connector_enhancer':
  http_timeout => 30,
  log_level    => 'DEBUG',
}
```

##### Run every 15 minutes instead of default 30

```puppet
class { 'puppet_data_connector_enhancer':
  timer_interval => '*:0/15',
}
```

#### Parameters

The following parameters are available in the `puppet_data_connector_enhancer` class:

* [`ensure`](#-puppet_data_connector_enhancer--ensure)
* [`script_path`](#-puppet_data_connector_enhancer--script_path)
* [`http_timeout`](#-puppet_data_connector_enhancer--http_timeout)
* [`http_retries`](#-puppet_data_connector_enhancer--http_retries)
* [`retry_delay`](#-puppet_data_connector_enhancer--retry_delay)
* [`log_level`](#-puppet_data_connector_enhancer--log_level)
* [`timer_ensure`](#-puppet_data_connector_enhancer--timer_ensure)
* [`timer_interval`](#-puppet_data_connector_enhancer--timer_interval)
* [`dropzone`](#-puppet_data_connector_enhancer--dropzone)
* [`output_filename`](#-puppet_data_connector_enhancer--output_filename)

##### <a name="-puppet_data_connector_enhancer--ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`

Whether the data connector enhancer should be present or absent.

Default value: `'present'`

##### <a name="-puppet_data_connector_enhancer--script_path"></a>`script_path`

Data type: `Stdlib::Absolutepath`

The full path where the Ruby script will be installed.

Default value: `'/usr/local/bin/puppet_data_connector_enhancer'`

##### <a name="-puppet_data_connector_enhancer--http_timeout"></a>`http_timeout`

Data type: `Integer[1, 300]`

HTTP request timeout in seconds.

Default value: `5`

##### <a name="-puppet_data_connector_enhancer--http_retries"></a>`http_retries`

Data type: `Integer[1, 10]`

Number of retry attempts for failed HTTP requests.

Default value: `3`

##### <a name="-puppet_data_connector_enhancer--retry_delay"></a>`retry_delay`

Data type: `Numeric`

Initial delay between retry attempts in seconds.

Default value: `2.0`

##### <a name="-puppet_data_connector_enhancer--log_level"></a>`log_level`

Data type: `Enum['DEBUG', 'INFO', 'WARN', 'ERROR']`

The logging level for the script (DEBUG, INFO, WARN, ERROR).

Default value: `'INFO'`

##### <a name="-puppet_data_connector_enhancer--timer_ensure"></a>`timer_ensure`

Data type: `Enum['present', 'absent']`

Whether the systemd timer should be present or absent.

Default value: `'present'`

##### <a name="-puppet_data_connector_enhancer--timer_interval"></a>`timer_interval`

Data type: `String[1]`

The systemd timer interval specification (e.g., '*:0/30' for every 30 minutes).

Default value: `'*:0/30'`

##### <a name="-puppet_data_connector_enhancer--dropzone"></a>`dropzone`

Data type: `Stdlib::Absolutepath`

The path to the dropzone directory. Defaults to the puppet_data_connector configuration.

Default value: `lookup('puppet_data_connector::dropzone', Stdlib::Absolutepath, 'first', '/opt/puppetlabs/puppet/prometheus_dropzone')`

##### <a name="-puppet_data_connector_enhancer--output_filename"></a>`output_filename`

Data type: `String[1]`

The filename for the metrics output (will be placed in the dropzone).

Default value: `'puppet_enhanced_metrics.prom'`

